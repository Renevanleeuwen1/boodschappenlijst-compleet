{"ast":null,"code":"var _jsxFileName = \"C:\\\\boodschappenlijst\\\\boodschappenlijst-compleet\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Login from \"./Login\";\nimport { supabase } from \"./supabaseClient\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [items, setItems] = useState([]);\n  const [newItem, setNewItem] = useState(\"\");\n  const [quantity, setQuantity] = useState(\"\");\n\n  // Hou de login-status bij\n  useEffect(() => {\n    supabase.auth.getUser().then(({\n      data: {\n        user\n      }\n    }) => setUser(user));\n    const {\n      data: {\n        subscription\n      }\n    } = supabase.auth.onAuthStateChange((event, session) => {\n      var _session$user;\n      setUser((_session$user = session === null || session === void 0 ? void 0 : session.user) !== null && _session$user !== void 0 ? _session$user : null);\n    });\n    return () => subscription.unsubscribe();\n  }, []);\n\n  // Haal boodschappen op nÃ¡ inloggen\n  useEffect(() => {\n    if (!user) return;\n    fetchItems();\n    const channel = supabase.channel('public:boodschappen').on('postgres_changes', {\n      event: '*',\n      schema: 'public',\n      table: 'boodschappen'\n    }, payload => {\n      fetchItems();\n    }).subscribe();\n    return () => {\n      supabase.removeChannel(channel);\n    };\n  }, [user]);\n  async function fetchItems() {\n    if (!user) return;\n    const {\n      data\n    } = await supabase.from(\"boodschappen\").select(\"*\").order(\"id\", {\n      ascending: true\n    });\n    setItems(data);\n  }\n  async function addItem() {\n    if (!newItem || !quantity) return;\n    await supabase.from(\"boodschappen\").insert([{\n      naam: newItem,\n      aantal: quantity,\n      gekocht: false\n    }]);\n    setNewItem(\"\");\n    setQuantity(\"\");\n  }\n  async function toggleItem(id, gekocht) {\n    await supabase.from(\"boodschappen\").update({\n      gekocht: !gekocht\n    }).eq(\"id\", id);\n  }\n  async function deleteItem(id) {\n    await supabase.from(\"boodschappen\").delete().eq(\"id\", id);\n  }\n\n  // Niet ingelogd? Toon alleen de loginpagina\n  if (!user) return /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Onze Boodschappenlijst\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Product\",\n        value: newItem,\n        onChange: e => setNewItem(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Aantal\",\n        value: quantity,\n        onChange: e => setQuantity(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addItem,\n        children: \"Voeg toe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: items && items.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: item.gekocht ? \"gekocht\" : \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => toggleItem(item.id, item.gekocht),\n          children: [item.naam, \" (\", item.aantal, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => deleteItem(item.id),\n          children: \"\\uD83D\\uDDD1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => supabase.auth.signOut(),\n      children: \"Uitloggen\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"y9HFURZ9b0cFW6xjkdquXL3QIJs=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Login","supabase","jsxDEV","_jsxDEV","App","_s","user","setUser","items","setItems","newItem","setNewItem","quantity","setQuantity","auth","getUser","then","data","subscription","onAuthStateChange","event","session","_session$user","unsubscribe","fetchItems","channel","on","schema","table","payload","subscribe","removeChannel","from","select","order","ascending","addItem","insert","naam","aantal","gekocht","toggleItem","id","update","eq","deleteItem","delete","fileName","_jsxFileName","lineNumber","columnNumber","className","children","placeholder","value","onChange","e","target","onClick","map","item","signOut","_c","$RefreshReg$"],"sources":["C:/boodschappenlijst/boodschappenlijst-compleet/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Login from \"./Login\";\nimport { supabase } from \"./supabaseClient\";\n\nexport default function App() {\n  const [user, setUser] = useState(null);\n  const [items, setItems] = useState([]);\n  const [newItem, setNewItem] = useState(\"\");\n  const [quantity, setQuantity] = useState(\"\");\n\n  // Hou de login-status bij\n  useEffect(() => {\n    supabase.auth.getUser().then(({ data: { user } }) => setUser(user));\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((event, session) => {\n      setUser(session?.user ?? null);\n    });\n    return () => subscription.unsubscribe();\n  }, []);\n\n  // Haal boodschappen op nÃ¡ inloggen\n  useEffect(() => {\n    if (!user) return;\n    fetchItems();\n    const channel = supabase\n      .channel('public:boodschappen')\n      .on('postgres_changes', { event: '*', schema: 'public', table: 'boodschappen' }, payload => {\n        fetchItems();\n      })\n      .subscribe();\n    return () => {\n      supabase.removeChannel(channel);\n    };\n  }, [user]);\n\n  async function fetchItems() {\n    if (!user) return;\n    const { data } = await supabase.from(\"boodschappen\").select(\"*\").order(\"id\", { ascending: true });\n    setItems(data);\n  }\n\n  async function addItem() {\n    if (!newItem || !quantity) return;\n    await supabase.from(\"boodschappen\").insert([{ naam: newItem, aantal: quantity, gekocht: false }]);\n    setNewItem(\"\");\n    setQuantity(\"\");\n  }\n\n  async function toggleItem(id, gekocht) {\n    await supabase.from(\"boodschappen\").update({ gekocht: !gekocht }).eq(\"id\", id);\n  }\n\n  async function deleteItem(id) {\n    await supabase.from(\"boodschappen\").delete().eq(\"id\", id);\n  }\n\n  // Niet ingelogd? Toon alleen de loginpagina\n  if (!user) return <Login />;\n\n  return (\n    <div className=\"container\">\n      <h1>Onze Boodschappenlijst</h1>\n      <div className=\"form\">\n        <input placeholder=\"Product\" value={newItem} onChange={e => setNewItem(e.target.value)} />\n        <input placeholder=\"Aantal\" value={quantity} onChange={e => setQuantity(e.target.value)} />\n        <button onClick={addItem}>Voeg toe</button>\n      </div>\n      <ul>\n        {items && items.map(item => (\n          <li key={item.id} className={item.gekocht ? \"gekocht\" : \"\"}>\n            <span onClick={() => toggleItem(item.id, item.gekocht)}>\n              {item.naam} ({item.aantal})\n            </span>\n            <button onClick={() => deleteItem(item.id)}>ðŸ—‘</button>\n          </li>\n        ))}\n      </ul>\n      <button onClick={() => supabase.auth.signOut()}>Uitloggen</button>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}