{"ast":null,"code":"// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../core/resource.mjs\";\nimport { CursorPage } from \"../core/pagination.mjs\";\nimport { buildHeaders } from \"../internal/headers.mjs\";\nimport { sleep } from \"../internal/utils/sleep.mjs\";\nimport { APIConnectionTimeoutError } from \"../error.mjs\";\nimport { multipartFormRequestOptions } from \"../internal/uploads.mjs\";\nimport { path } from \"../internal/utils/path.mjs\";\nexport class Files extends APIResource {\n  /**\r\n   * Upload a file that can be used across various endpoints. Individual files can be\r\n   * up to 512 MB, and the size of all files uploaded by one organization can be up\r\n   * to 100 GB.\r\n   *\r\n   * The Assistants API supports files up to 2 million tokens and of specific file\r\n   * types. See the\r\n   * [Assistants Tools guide](https://platform.openai.com/docs/assistants/tools) for\r\n   * details.\r\n   *\r\n   * The Fine-tuning API only supports `.jsonl` files. The input also has certain\r\n   * required formats for fine-tuning\r\n   * [chat](https://platform.openai.com/docs/api-reference/fine-tuning/chat-input) or\r\n   * [completions](https://platform.openai.com/docs/api-reference/fine-tuning/completions-input)\r\n   * models.\r\n   *\r\n   * The Batch API only supports `.jsonl` files up to 200 MB in size. The input also\r\n   * has a specific required\r\n   * [format](https://platform.openai.com/docs/api-reference/batch/request-input).\r\n   *\r\n   * Please [contact us](https://help.openai.com/) if you need to increase these\r\n   * storage limits.\r\n   */\n  create(body, options) {\n    return this._client.post('/files', multipartFormRequestOptions({\n      body,\n      ...options\n    }, this._client));\n  }\n  /**\r\n   * Returns information about a specific file.\r\n   */\n  retrieve(fileID, options) {\n    return this._client.get(path`/files/${fileID}`, options);\n  }\n  /**\r\n   * Returns a list of files.\r\n   */\n  list(query = {}, options) {\n    return this._client.getAPIList('/files', CursorPage, {\n      query,\n      ...options\n    });\n  }\n  /**\r\n   * Delete a file.\r\n   */\n  delete(fileID, options) {\n    return this._client.delete(path`/files/${fileID}`, options);\n  }\n  /**\r\n   * Returns the contents of the specified file.\r\n   */\n  content(fileID, options) {\n    return this._client.get(path`/files/${fileID}/content`, {\n      ...options,\n      headers: buildHeaders([{\n        Accept: 'application/binary'\n      }, options?.headers]),\n      __binaryResponse: true\n    });\n  }\n  /**\r\n   * Waits for the given file to be processed, default timeout is 30 mins.\r\n   */\n  async waitForProcessing(id, {\n    pollInterval = 5000,\n    maxWait = 30 * 60 * 1000\n  } = {}) {\n    const TERMINAL_STATES = new Set(['processed', 'error', 'deleted']);\n    const start = Date.now();\n    let file = await this.retrieve(id);\n    while (!file.status || !TERMINAL_STATES.has(file.status)) {\n      await sleep(pollInterval);\n      file = await this.retrieve(id);\n      if (Date.now() - start > maxWait) {\n        throw new APIConnectionTimeoutError({\n          message: `Giving up on waiting for file ${id} to finish processing after ${maxWait} milliseconds.`\n        });\n      }\n    }\n    return file;\n  }\n}","map":{"version":3,"names":["APIResource","CursorPage","buildHeaders","sleep","APIConnectionTimeoutError","multipartFormRequestOptions","path","Files","create","body","options","_client","post","retrieve","fileID","get","list","query","getAPIList","delete","content","headers","Accept","__binaryResponse","waitForProcessing","id","pollInterval","maxWait","TERMINAL_STATES","Set","start","Date","now","file","status","has","message"],"sources":["C:\\boodschappenlijst\\boodschappenlijst-compleet\\node_modules\\openai\\src\\resources\\files.ts"],"sourcesContent":["// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\r\n\r\nimport { APIResource } from '../core/resource';\r\nimport { APIPromise } from '../core/api-promise';\r\nimport { CursorPage, type CursorPageParams, PagePromise } from '../core/pagination';\r\nimport { type Uploadable } from '../core/uploads';\r\nimport { buildHeaders } from '../internal/headers';\r\nimport { RequestOptions } from '../internal/request-options';\r\nimport { sleep } from '../internal/utils/sleep';\r\nimport { APIConnectionTimeoutError } from '../error';\r\nimport { multipartFormRequestOptions } from '../internal/uploads';\r\nimport { path } from '../internal/utils/path';\r\n\r\nexport class Files extends APIResource {\r\n  /**\r\n   * Upload a file that can be used across various endpoints. Individual files can be\r\n   * up to 512 MB, and the size of all files uploaded by one organization can be up\r\n   * to 100 GB.\r\n   *\r\n   * The Assistants API supports files up to 2 million tokens and of specific file\r\n   * types. See the\r\n   * [Assistants Tools guide](https://platform.openai.com/docs/assistants/tools) for\r\n   * details.\r\n   *\r\n   * The Fine-tuning API only supports `.jsonl` files. The input also has certain\r\n   * required formats for fine-tuning\r\n   * [chat](https://platform.openai.com/docs/api-reference/fine-tuning/chat-input) or\r\n   * [completions](https://platform.openai.com/docs/api-reference/fine-tuning/completions-input)\r\n   * models.\r\n   *\r\n   * The Batch API only supports `.jsonl` files up to 200 MB in size. The input also\r\n   * has a specific required\r\n   * [format](https://platform.openai.com/docs/api-reference/batch/request-input).\r\n   *\r\n   * Please [contact us](https://help.openai.com/) if you need to increase these\r\n   * storage limits.\r\n   */\r\n  create(body: FileCreateParams, options?: RequestOptions): APIPromise<FileObject> {\r\n    return this._client.post('/files', multipartFormRequestOptions({ body, ...options }, this._client));\r\n  }\r\n\r\n  /**\r\n   * Returns information about a specific file.\r\n   */\r\n  retrieve(fileID: string, options?: RequestOptions): APIPromise<FileObject> {\r\n    return this._client.get(path`/files/${fileID}`, options);\r\n  }\r\n\r\n  /**\r\n   * Returns a list of files.\r\n   */\r\n  list(\r\n    query: FileListParams | null | undefined = {},\r\n    options?: RequestOptions,\r\n  ): PagePromise<FileObjectsPage, FileObject> {\r\n    return this._client.getAPIList('/files', CursorPage<FileObject>, { query, ...options });\r\n  }\r\n\r\n  /**\r\n   * Delete a file.\r\n   */\r\n  delete(fileID: string, options?: RequestOptions): APIPromise<FileDeleted> {\r\n    return this._client.delete(path`/files/${fileID}`, options);\r\n  }\r\n\r\n  /**\r\n   * Returns the contents of the specified file.\r\n   */\r\n  content(fileID: string, options?: RequestOptions): APIPromise<Response> {\r\n    return this._client.get(path`/files/${fileID}/content`, {\r\n      ...options,\r\n      headers: buildHeaders([{ Accept: 'application/binary' }, options?.headers]),\r\n      __binaryResponse: true,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Waits for the given file to be processed, default timeout is 30 mins.\r\n   */\r\n  async waitForProcessing(\r\n    id: string,\r\n    { pollInterval = 5000, maxWait = 30 * 60 * 1000 }: { pollInterval?: number; maxWait?: number } = {},\r\n  ): Promise<FileObject> {\r\n    const TERMINAL_STATES = new Set(['processed', 'error', 'deleted']);\r\n\r\n    const start = Date.now();\r\n    let file = await this.retrieve(id);\r\n\r\n    while (!file.status || !TERMINAL_STATES.has(file.status)) {\r\n      await sleep(pollInterval);\r\n\r\n      file = await this.retrieve(id);\r\n      if (Date.now() - start > maxWait) {\r\n        throw new APIConnectionTimeoutError({\r\n          message: `Giving up on waiting for file ${id} to finish processing after ${maxWait} milliseconds.`,\r\n        });\r\n      }\r\n    }\r\n\r\n    return file;\r\n  }\r\n}\r\n\r\nexport type FileObjectsPage = CursorPage<FileObject>;\r\n\r\nexport type FileContent = string;\r\n\r\nexport interface FileDeleted {\r\n  id: string;\r\n\r\n  deleted: boolean;\r\n\r\n  object: 'file';\r\n}\r\n\r\n/**\r\n * The `File` object represents a document that has been uploaded to OpenAI.\r\n */\r\nexport interface FileObject {\r\n  /**\r\n   * The file identifier, which can be referenced in the API endpoints.\r\n   */\r\n  id: string;\r\n\r\n  /**\r\n   * The size of the file, in bytes.\r\n   */\r\n  bytes: number;\r\n\r\n  /**\r\n   * The Unix timestamp (in seconds) for when the file was created.\r\n   */\r\n  created_at: number;\r\n\r\n  /**\r\n   * The name of the file.\r\n   */\r\n  filename: string;\r\n\r\n  /**\r\n   * The object type, which is always `file`.\r\n   */\r\n  object: 'file';\r\n\r\n  /**\r\n   * The intended purpose of the file. Supported values are `assistants`,\r\n   * `assistants_output`, `batch`, `batch_output`, `fine-tune`, `fine-tune-results`\r\n   * and `vision`.\r\n   */\r\n  purpose:\r\n    | 'assistants'\r\n    | 'assistants_output'\r\n    | 'batch'\r\n    | 'batch_output'\r\n    | 'fine-tune'\r\n    | 'fine-tune-results'\r\n    | 'vision';\r\n\r\n  /**\r\n   * @deprecated Deprecated. The current status of the file, which can be either\r\n   * `uploaded`, `processed`, or `error`.\r\n   */\r\n  status: 'uploaded' | 'processed' | 'error';\r\n\r\n  /**\r\n   * The Unix timestamp (in seconds) for when the file will expire.\r\n   */\r\n  expires_at?: number;\r\n\r\n  /**\r\n   * @deprecated Deprecated. For details on why a fine-tuning training file failed\r\n   * validation, see the `error` field on `fine_tuning.job`.\r\n   */\r\n  status_details?: string;\r\n}\r\n\r\n/**\r\n * The intended purpose of the uploaded file. One of: - `assistants`: Used in the\r\n * Assistants API - `batch`: Used in the Batch API - `fine-tune`: Used for\r\n * fine-tuning - `vision`: Images used for vision fine-tuning - `user_data`:\r\n * Flexible file type for any purpose - `evals`: Used for eval data sets\r\n */\r\nexport type FilePurpose = 'assistants' | 'batch' | 'fine-tune' | 'vision' | 'user_data' | 'evals';\r\n\r\nexport interface FileCreateParams {\r\n  /**\r\n   * The File object (not file name) to be uploaded.\r\n   */\r\n  file: Uploadable;\r\n\r\n  /**\r\n   * The intended purpose of the uploaded file. One of: - `assistants`: Used in the\r\n   * Assistants API - `batch`: Used in the Batch API - `fine-tune`: Used for\r\n   * fine-tuning - `vision`: Images used for vision fine-tuning - `user_data`:\r\n   * Flexible file type for any purpose - `evals`: Used for eval data sets\r\n   */\r\n  purpose: FilePurpose;\r\n}\r\n\r\nexport interface FileListParams extends CursorPageParams {\r\n  /**\r\n   * Sort order by the `created_at` timestamp of the objects. `asc` for ascending\r\n   * order and `desc` for descending order.\r\n   */\r\n  order?: 'asc' | 'desc';\r\n\r\n  /**\r\n   * Only return files with the given purpose.\r\n   */\r\n  purpose?: string;\r\n}\r\n\r\nexport declare namespace Files {\r\n  export {\r\n    type FileContent as FileContent,\r\n    type FileDeleted as FileDeleted,\r\n    type FileObject as FileObject,\r\n    type FilePurpose as FilePurpose,\r\n    type FileObjectsPage as FileObjectsPage,\r\n    type FileCreateParams as FileCreateParams,\r\n    type FileListParams as FileListParams,\r\n  };\r\n}\r\n"],"mappings":"AAAA;SAESA,WAAW,QAAE;SAEbC,UAAU,QAAsC;SAEhDC,YAAY,QAAE;SAEdC,KAAK,QAAE;SACPC,yBAAyB,QAAE;SAC3BC,2BAA2B,QAAE;SAC7BC,IAAI,QAAE;AAEf,OAAM,MAAOC,KAAM,SAAQP,WAAW;EACpC;;;;;;;;;;;;;;;;;;;;;;;EAuBAQ,MAAMA,CAACC,IAAsB,EAAEC,OAAwB;IACrD,OAAO,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,EAAEP,2BAA2B,CAAC;MAAEI,IAAI;MAAE,GAAGC;IAAO,CAAE,EAAE,IAAI,CAACC,OAAO,CAAC,CAAC;EACrG;EAEA;;;EAGAE,QAAQA,CAACC,MAAc,EAAEJ,OAAwB;IAC/C,OAAO,IAAI,CAACC,OAAO,CAACI,GAAG,CAACT,IAAI,UAAUQ,MAAM,EAAE,EAAEJ,OAAO,CAAC;EAC1D;EAEA;;;EAGAM,IAAIA,CACFC,KAAA,GAA2C,EAAE,EAC7CP,OAAwB;IAExB,OAAO,IAAI,CAACC,OAAO,CAACO,UAAU,CAAC,QAAQ,EAAEjB,UAAsB,EAAE;MAAEgB,KAAK;MAAE,GAAGP;IAAO,CAAE,CAAC;EACzF;EAEA;;;EAGAS,MAAMA,CAACL,MAAc,EAAEJ,OAAwB;IAC7C,OAAO,IAAI,CAACC,OAAO,CAACQ,MAAM,CAACb,IAAI,UAAUQ,MAAM,EAAE,EAAEJ,OAAO,CAAC;EAC7D;EAEA;;;EAGAU,OAAOA,CAACN,MAAc,EAAEJ,OAAwB;IAC9C,OAAO,IAAI,CAACC,OAAO,CAACI,GAAG,CAACT,IAAI,UAAUQ,MAAM,UAAU,EAAE;MACtD,GAAGJ,OAAO;MACVW,OAAO,EAAEnB,YAAY,CAAC,CAAC;QAAEoB,MAAM,EAAE;MAAoB,CAAE,EAAEZ,OAAO,EAAEW,OAAO,CAAC,CAAC;MAC3EE,gBAAgB,EAAE;KACnB,CAAC;EACJ;EAEA;;;EAGA,MAAMC,iBAAiBA,CACrBC,EAAU,EACV;IAAEC,YAAY,GAAG,IAAI;IAAEC,OAAO,GAAG,EAAE,GAAG,EAAE,GAAG;EAAI,IAAkD,EAAE;IAEnG,MAAMC,eAAe,GAAG,IAAIC,GAAG,CAAC,CAAC,WAAW,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;IAElE,MAAMC,KAAK,GAAGC,IAAI,CAACC,GAAG,EAAE;IACxB,IAAIC,IAAI,GAAG,MAAM,IAAI,CAACpB,QAAQ,CAACY,EAAE,CAAC;IAElC,OAAO,CAACQ,IAAI,CAACC,MAAM,IAAI,CAACN,eAAe,CAACO,GAAG,CAACF,IAAI,CAACC,MAAM,CAAC,EAAE;MACxD,MAAM/B,KAAK,CAACuB,YAAY,CAAC;MAEzBO,IAAI,GAAG,MAAM,IAAI,CAACpB,QAAQ,CAACY,EAAE,CAAC;MAC9B,IAAIM,IAAI,CAACC,GAAG,EAAE,GAAGF,KAAK,GAAGH,OAAO,EAAE;QAChC,MAAM,IAAIvB,yBAAyB,CAAC;UAClCgC,OAAO,EAAE,iCAAiCX,EAAE,+BAA+BE,OAAO;SACnF,CAAC;MACJ;IACF;IAEA,OAAOM,IAAI;EACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}